---
description: How to Connect DataDistillr to the Datadog API
---

# Connecting to Datadog

## First Steps with Affinity
Set up an account with [Datadog](https://www.datadoghq.com/){target=_blank}.

???+ cost "Costs"

    This is a paid API. [Checkout Datadog's](https://www.datadoghq.com/pricing/) pricing.


???+ rlimit "Rate Limits"

    All of the API endpoints are [rate limited](https://docs.datadoghq.com/api/latest/rate-limits/). Once you exceed a certain number of requests in a specific period, Datadog returns an error.

## How to Connect DataDistillr to Datadog
To set up a data source connection for Datadog, you will need to have:

- A unique [name](#name) for your data source connection to be used in queries.
- The [API Key](#steps-for-getting-your-api-key) generated by Datadog.
- The [Application Key](#steps-for-getting-your-application-key) generated by Datadog.



### Data Source Form

To locate the Datadog form, follow the steps in [Connecting Your Data to DataDistillr](../../). When you get to the window to choose the data source type, select API as shown below.&#x20;

![Select API from the available choices][image-5]

On the API screen, select Datadog from list of API forms as shown in the image below.

![Select Datadog API from available choices][image-6]

The following form will appear. Instructions can be found below on how to find the information required to fill each field on the Datadog API form.

Once you have filled out all the fields, press the green 'Save' button, and your API will be connected!

![Datadog Form][image-1]

### Name

Enter any name that will help you recognize this data source from within your query window. &#x20;

!!! info "Acceptable characters include"

    * lowercase alphanumeric characters
    * underscores
#### Steps for getting your API Key

=== "1. Find your base"

    You can access your Base ID at [https://Datadog.com/](https://Datadog.com/){target=_blank}. Navigate to Bases along the top panel and click on your workspace as shown in the image below.
    
    ![Finding your base][image-2]

=== "2. Find your Project Path (Base ID)"

    You can find the Project Path (Base ID) in the Highlighted section of the Base URL shown below, and enter this into the Datadog Data Source Form as the 'Project Path'.
    
    `https://Datadog.com/`<mark>YOUR_BASE_ID</mark>`/tblPI1Mclv7pqrqDq/viwCAMdqRwJpFOlxl?blocks=hide`

#### Steps for getting your Application Key

=== "1. Generate and copy API Key"

    To generate your API Key, navigate to your [Account overview](https://Datadog.com/account){target=_blank} where you will have the option to generate an API Key as highlighted below. Copy this API Key and enter into the Datadog Form.

    ![Generate API Key][image-4]


## Endpoints

The table below shows a list of endpoints available to connect to within the DataDistillr application. If you need to connect to any endpoints not listed in the table below, please use the [Custom API](custom-apis.md) Form.

| Endpoint | URL Params | Optional                                                                 | Description                     |
|----------| ---------- |--------------------------------------------------------------------------|---------------------------------|
| `tables`   | TableName  | priority<br>sources<br>tags<br>unaggregated<br>exclude_aggregate<br>page | Returns the table and its cells |


### Nav Tree

The endpoint above will display as follows in the nav tree once your API has successfully connected.

![Datadog Endpoints][image-3]

## Sample Queries

The following queries are intended to help you get started, and make life simpler querying within your API.

### Get Tables Endpoint

Suppose that my Datadog API data source was called `myDatadogapi` and you have a table called `Form Responses 1`. In the table there are several columns including ID and fields. In order to access the values in the fields column you have to query their keys specifically as so.


```sql
SELECT AT.id AS ID,
AT.fields['Timestamp'] AS Times,
AT.fields['Name'] AS Name,
AT.fields['Email Address'] AS Address
FROM myDatadogapi.`tables` AS AT
WHERE tableName='Form Responses 1'
```

[image-1]: ../../img/api/datadog/datadog-form.png
[image-2]: ../../img/api/Datadog/Datadog-base.png
[image-3]: ../../img/api/Datadog/Datadog-endpoint.png
[image-4]: ../../img/api/Datadog/Datadog-generate-api.png
[image-5]: ../../img/api/data-source-wizard-api-light.png
[image-6]: ../../img/api/datadog/datadog-datasource.png
